<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>EV Logger: /home/jon/projects/evlogger/src/system.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">EV Logger
   </div>
   <div id="projectbrief">A MSP430 based datalogger for an electric vehicle</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">system.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handles intrinsic system functionality such as controlling the CPU core clock and ensuring its stability, providing a real time "wall clock" source, etc.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;in430.h&gt;</code><br/>
<code>#include &quot;HAL_PMM.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="system_8h_source.html">system.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga78ab77b57cf2e00089f0a3a22508524c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga78ab77b57cf2e00089f0a3a22508524c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__System.html#ga78ab77b57cf2e00089f0a3a22508524c">clock_init</a> (void)</td></tr>
<tr class="memdesc:ga78ab77b57cf2e00089f0a3a22508524c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use timer A0 to set up a system clock ticking at 1ms intervals. <br/></td></tr>
<tr class="separator:ga78ab77b57cf2e00089f0a3a22508524c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02fbef4ca042a3a926a687e81ddf3b61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__System.html#ga02fbef4ca042a3a926a687e81ddf3b61">sys_clock_init</a> (void)</td></tr>
<tr class="memdesc:ga02fbef4ca042a3a926a687e81ddf3b61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the system core clock to provide a stable clock for the CPU.  <a href="group__System.html#ga02fbef4ca042a3a926a687e81ddf3b61">More...</a><br/></td></tr>
<tr class="separator:ga02fbef4ca042a3a926a687e81ddf3b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5b7160f2e653725ba5e2024c3cb7bff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__System.html#ga6e6c13e871b82d881a01d1bc8df69d23">clock_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__System.html#gae5b7160f2e653725ba5e2024c3cb7bff">clock_time</a> (void)</td></tr>
<tr class="memdesc:gae5b7160f2e653725ba5e2024c3cb7bff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the current system time.  <a href="group__System.html#gae5b7160f2e653725ba5e2024c3cb7bff">More...</a><br/></td></tr>
<tr class="separator:gae5b7160f2e653725ba5e2024c3cb7bff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab3527620075d7c9b9ed0b023eb47fabb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__System.html#gab3527620075d7c9b9ed0b023eb47fabb">_delay_ms</a> (<a class="el" href="group__System.html#ga6e6c13e871b82d881a01d1bc8df69d23">clock_time_t</a> delay)</td></tr>
<tr class="memdesc:gab3527620075d7c9b9ed0b023eb47fabb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delay for the provided number of milliseconds.  <a href="group__System.html#gab3527620075d7c9b9ed0b023eb47fabb">More...</a><br/></td></tr>
<tr class="separator:gab3527620075d7c9b9ed0b023eb47fabb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga95ca0893fea824b3da8940f52f5ac1b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__System.html#ga95ca0893fea824b3da8940f52f5ac1b0">interrupt</a> (TIMER0_A0_VECTOR)</td></tr>
<tr class="memdesc:ga95ca0893fea824b3da8940f52f5ac1b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt service routine for the system ticks counter.  <a href="group__System.html#ga95ca0893fea824b3da8940f52f5ac1b0">More...</a><br/></td></tr>
<tr class="separator:ga95ca0893fea824b3da8940f52f5ac1b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gac2c5ac92059be67724d7a2185eaa467c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac2c5ac92059be67724d7a2185eaa467c"></a>
static volatile <a class="el" href="group__System.html#ga6e6c13e871b82d881a01d1bc8df69d23">clock_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__System.html#gac2c5ac92059be67724d7a2185eaa467c">ticks</a></td></tr>
<tr class="memdesc:gac2c5ac92059be67724d7a2185eaa467c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current clock time. <br/></td></tr>
<tr class="separator:gac2c5ac92059be67724d7a2185eaa467c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles intrinsic system functionality such as controlling the CPU core clock and ensuring its stability, providing a real time "wall clock" source, etc. </p>
<p>The core clock is generated using onboard equipment, with the reference being an external 4MHz high precision crystal. Since the core clock frequency is much higher than the reference, a frequency locked loop (FLL) system is paired with a digitally controlled oscillator (DCO) to provide a stabilised source via feedback. This system is fantastically complicated and reading of the datasheet (specific to the F5529) is recommended before attempting to understand what is going on in this module!</p>
<dl class="section author"><dt>Author</dt><dd>Jon Sowman, University of Southampton <a href="#" onclick="location.href='mai'+'lto:'+'j.s'+'ow'+'man'+'@s'+'oto'+'n.'+'ac.'+'uk'; return false;">j.sow<span style="display: none;">.nosp@m.</span>man@<span style="display: none;">.nosp@m.</span>soton<span style="display: none;">.nosp@m.</span>.ac.<span style="display: none;">.nosp@m.</span>uk</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Jon Sowman 2014, All Rights Reserved </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Nov 5 2014 10:07:05 for EV Logger by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
