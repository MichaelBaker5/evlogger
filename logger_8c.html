<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>EV Logger: /home/jon/projects/evlogger/src/logger.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">EV Logger
   </div>
   <div id="projectbrief">A MSP430 based datalogger for an electric vehicle</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">logger.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handles the main logger functionality of the device, including the configuration of all required peripherals for the logging service.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br/>
<code>#include &quot;HAL_Dogs102x6.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="accel_8h_source.html">accel.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="logger_8h_source.html">logger.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="adc_8h_source.html">adc.h</a>&quot;</code><br/>
<code>#include &quot;ff.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="uart_8h_source.html">uart.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="system_8h_source.html">system.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="typedefs_8h_source.html">typedefs.h</a>&quot;</code><br/>
<code>#include &quot;mmc.h&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga7dd46e9f5adb1f95d06cecebcd77131c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga7dd46e9f5adb1f95d06cecebcd77131c">rb_getused_m</a>(b)&#160;&#160;&#160;((b-&gt;tail==b-&gt;head) ? 0:(b-&gt;head - b-&gt;tail + b-&gt;len) % b-&gt;len)</td></tr>
<tr class="memdesc:ga7dd46e9f5adb1f95d06cecebcd77131c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quick facility to get the used value of a ring buffer.  <a href="group__logger.html#ga7dd46e9f5adb1f95d06cecebcd77131c">More...</a><br/></td></tr>
<tr class="separator:ga7dd46e9f5adb1f95d06cecebcd77131c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35dd3a7fa4393edc7a82d7e00ea062f2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga35dd3a7fa4393edc7a82d7e00ea062f2">rb_getfree_m</a>(b)&#160;&#160;&#160;((b-&gt;tail==b-&gt;head) ? b-&gt;len : (b-&gt;tail - b-&gt;head + b-&gt;len) % b-&gt;len)</td></tr>
<tr class="memdesc:ga35dd3a7fa4393edc7a82d7e00ea062f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quick facility to get the free value of a ring buffer.  <a href="group__logger.html#ga35dd3a7fa4393edc7a82d7e00ea062f2">More...</a><br/></td></tr>
<tr class="separator:ga35dd3a7fa4393edc7a82d7e00ea062f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44d4b9b7c0b6f5dd08e9416d092bdfb3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga44d4b9b7c0b6f5dd08e9416d092bdfb3">rb_reset_m</a>(b)&#160;&#160;&#160;do {b-&gt;tail = b-&gt;head = 0} while (0)</td></tr>
<tr class="memdesc:ga44d4b9b7c0b6f5dd08e9416d092bdfb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset a ring buffer to its original empty state.  <a href="group__logger.html#ga44d4b9b7c0b6f5dd08e9416d092bdfb3">More...</a><br/></td></tr>
<tr class="separator:ga44d4b9b7c0b6f5dd08e9416d092bdfb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7f0a1ef369c8017a21abc0f68371b64e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga7f0a1ef369c8017a21abc0f68371b64e">logger_init</a> (void)</td></tr>
<tr class="memdesc:ga7f0a1ef369c8017a21abc0f68371b64e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up the hardware for logging functionality, including the configuration of required peripherals such as the ADC and Accelerometer.  <a href="group__logger.html#ga7f0a1ef369c8017a21abc0f68371b64e">More...</a><br/></td></tr>
<tr class="separator:ga7f0a1ef369c8017a21abc0f68371b64e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8a40257f5965ff6dd711c8b3923e4d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gaf8a40257f5965ff6dd711c8b3923e4d1">update_lcd</a> (<a class="el" href="structRingBuffer.html">RingBuffer</a> *buf)</td></tr>
<tr class="memdesc:gaf8a40257f5965ff6dd711c8b3923e4d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the LCD with the current status of the logger, including buffer usage, data file size and SD card utilisation.  <a href="group__logger.html#gaf8a40257f5965ff6dd711c8b3923e4d1">More...</a><br/></td></tr>
<tr class="separator:gaf8a40257f5965ff6dd711c8b3923e4d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b1e9f609a5fb4ca026b9f3a9e0ebc41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga8b1e9f609a5fb4ca026b9f3a9e0ebc41">start_logger</a> (<a class="el" href="structRingBuffer.html">RingBuffer</a> *<a class="el" href="group__logger.html#gad897897d6e8cd86086d5ebaa9a21d0d4">sdbuf</a>)</td></tr>
<tr class="memdesc:ga8b1e9f609a5fb4ca026b9f3a9e0ebc41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up the SD card and the FATFS filesystem handler before commencing the logging service.  <a href="group__logger.html#ga8b1e9f609a5fb4ca026b9f3a9e0ebc41">More...</a><br/></td></tr>
<tr class="separator:ga8b1e9f609a5fb4ca026b9f3a9e0ebc41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad722dfdb4da7ee009462dde1a83f4358"><td class="memItemLeft" align="right" valign="top">FRESULT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gad722dfdb4da7ee009462dde1a83f4358">sd_write</a> (<a class="el" href="structRingBuffer.html">RingBuffer</a> *rb, char *writebuf, FIL *<a class="el" href="group__logger.html#ga4be63952e3c9cb0f46f9e592b3c78714">fil</a>, uint16_t n)</td></tr>
<tr class="memdesc:gad722dfdb4da7ee009462dde1a83f4358"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write n bytes from a ring buffer to an SD card controlled by fatfs.  <a href="group__logger.html#gad722dfdb4da7ee009462dde1a83f4358">More...</a><br/></td></tr>
<tr class="separator:gad722dfdb4da7ee009462dde1a83f4358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8bdf9f19d8d4ebacc793b22afd90768"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gab8bdf9f19d8d4ebacc793b22afd90768">ringbuf_write</a> (<a class="el" href="structRingBuffer.html">RingBuffer</a> *buf, char *data, uint16_t n)</td></tr>
<tr class="memdesc:gab8bdf9f19d8d4ebacc793b22afd90768"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write n bytes to a <a class="el" href="structRingBuffer.html" title="A ring buffer which can be attached to given (preallocated) memory area. ">RingBuffer</a>.  <a href="group__logger.html#gab8bdf9f19d8d4ebacc793b22afd90768">More...</a><br/></td></tr>
<tr class="separator:gab8bdf9f19d8d4ebacc793b22afd90768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78ecc0240d02beed08b04f5c69dd3f2c"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga78ecc0240d02beed08b04f5c69dd3f2c">ringbuf_read</a> (<a class="el" href="structRingBuffer.html">RingBuffer</a> *buf, char *read_buffer, uint16_t n)</td></tr>
<tr class="memdesc:ga78ecc0240d02beed08b04f5c69dd3f2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read n bytes from a ring buffer.  <a href="group__logger.html#ga78ecc0240d02beed08b04f5c69dd3f2c">More...</a><br/></td></tr>
<tr class="separator:ga78ecc0240d02beed08b04f5c69dd3f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadf69ccbc6389e013322d06a0516d9db5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gadf69ccbc6389e013322d06a0516d9db5">logger_enable</a> (void)</td></tr>
<tr class="memdesc:gadf69ccbc6389e013322d06a0516d9db5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable TA1 to begin logging by setting mode control to "up" mode, counter counts to TAxCCR0.  <a href="group__logger.html#gadf69ccbc6389e013322d06a0516d9db5">More...</a><br/></td></tr>
<tr class="separator:gadf69ccbc6389e013322d06a0516d9db5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb449c011f90affd5c104e98298704b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gaeb449c011f90affd5c104e98298704b5">logger_disable</a> (void)</td></tr>
<tr class="memdesc:gaeb449c011f90affd5c104e98298704b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable TA1 to halt logging by setting mode control to STOP.  <a href="group__logger.html#gaeb449c011f90affd5c104e98298704b5">More...</a><br/></td></tr>
<tr class="separator:gaeb449c011f90affd5c104e98298704b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga190ea6537ba0138967b2f60ce4913c8d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga190ea6537ba0138967b2f60ce4913c8d">interrupt</a> (TIMER1_A0_VECTOR)</td></tr>
<tr class="memdesc:ga190ea6537ba0138967b2f60ce4913c8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt service routine for Timer A1 (TA1), where we should log one block of data.  <a href="group__logger.html#ga190ea6537ba0138967b2f60ce4913c8d">More...</a><br/></td></tr>
<tr class="separator:ga190ea6537ba0138967b2f60ce4913c8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaef39e368becfc8ede2d7e992660ded8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gaaef39e368becfc8ede2d7e992660ded8">interrupt</a> (PORT1_VECTOR)</td></tr>
<tr class="memdesc:gaaef39e368becfc8ede2d7e992660ded8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt vector for button S1 which is used for enabled and disabling logging.  <a href="group__logger.html#gaaef39e368becfc8ede2d7e992660ded8">More...</a><br/></td></tr>
<tr class="separator:gaaef39e368becfc8ede2d7e992660ded8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27007f0867b8c6ce1fb3b7943e2bc945"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga27007f0867b8c6ce1fb3b7943e2bc945"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga27007f0867b8c6ce1fb3b7943e2bc945">interrupt</a> (PORT2_VECTOR)</td></tr>
<tr class="memdesc:ga27007f0867b8c6ce1fb3b7943e2bc945"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt vector for button S2. <br/></td></tr>
<tr class="separator:ga27007f0867b8c6ce1fb3b7943e2bc945"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga1b0c2354b01b207919e638c5db342824"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1b0c2354b01b207919e638c5db342824"></a>
static volatile uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>time</b></td></tr>
<tr class="separator:ga1b0c2354b01b207919e638c5db342824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10ab8a8cd50badbe26d5d0e04b263f92"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga10ab8a8cd50badbe26d5d0e04b263f92"></a>
static volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>logger_running</b></td></tr>
<tr class="separator:ga10ab8a8cd50badbe26d5d0e04b263f92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0eb1ac42313417f7c16e8fca853fd12f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0eb1ac42313417f7c16e8fca853fd12f"></a>
static volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>file_open</b></td></tr>
<tr class="separator:ga0eb1ac42313417f7c16e8fca853fd12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga264c2cc44242eb9a8430539752d1b432"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga264c2cc44242eb9a8430539752d1b432"></a>
static char&#160;</td><td class="memItemRight" valign="bottom"><b>s</b> [<a class="el" href="group__UART.html#gaeec38153163908e428304567b3623e03">UART_BUF_LEN</a>]</td></tr>
<tr class="separator:ga264c2cc44242eb9a8430539752d1b432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c58ec988b438001baccda2c77966547"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0c58ec988b438001baccda2c77966547"></a>
static char&#160;</td><td class="memItemRight" valign="bottom"><b>ringbuf</b> [<a class="el" href="group__logger.html#gafacd61cc6eb6a06283bfc5a9824e0760">SD_RINGBUF_LEN</a>]</td></tr>
<tr class="separator:ga0c58ec988b438001baccda2c77966547"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e106526932e3c95b903409ab35b0882"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8e106526932e3c95b903409ab35b0882"></a>
static char&#160;</td><td class="memItemRight" valign="bottom"><b>writebuf</b> [512]</td></tr>
<tr class="separator:ga8e106526932e3c95b903409ab35b0882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad897897d6e8cd86086d5ebaa9a21d0d4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gad897897d6e8cd86086d5ebaa9a21d0d4"></a>
static <a class="el" href="structRingBuffer.html">RingBuffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gad897897d6e8cd86086d5ebaa9a21d0d4">sdbuf</a></td></tr>
<tr class="memdesc:gad897897d6e8cd86086d5ebaa9a21d0d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">A <a class="el" href="structRingBuffer.html" title="A ring buffer which can be attached to given (preallocated) memory area. ">RingBuffer</a> that we will use to buffer sets of samples that are to be moved to the SD card. <br/></td></tr>
<tr class="separator:gad897897d6e8cd86086d5ebaa9a21d0d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71df2a91147f5867de7713ac87c8f1aa"><td class="memItemLeft" align="right" valign="top">static volatile <a class="el" href="structSampleBuffer.html">SampleBuffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga71df2a91147f5867de7713ac87c8f1aa">sb</a></td></tr>
<tr class="memdesc:ga71df2a91147f5867de7713ac87c8f1aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">A <a class="el" href="structSampleBuffer.html" title="A structure to contain one &#39;set&#39; of samples from the vehicle. ">SampleBuffer</a> to store a single set of readings before they are transferred into the SD transaction buffer.  <a href="group__logger.html#ga71df2a91147f5867de7713ac87c8f1aa">More...</a><br/></td></tr>
<tr class="separator:ga71df2a91147f5867de7713ac87c8f1aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f47e042c2aca024c6534fdf5c3d9426"><td class="memItemLeft" align="right" valign="top">FATFS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga8f47e042c2aca024c6534fdf5c3d9426">FatFs</a></td></tr>
<tr class="memdesc:ga8f47e042c2aca024c6534fdf5c3d9426"><td class="mdescLeft">&#160;</td><td class="mdescRight">A FATFS filesystem object which we use to handle files and directories on the SD Card.  <a href="group__logger.html#ga8f47e042c2aca024c6534fdf5c3d9426">More...</a><br/></td></tr>
<tr class="separator:ga8f47e042c2aca024c6534fdf5c3d9426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4be63952e3c9cb0f46f9e592b3c78714"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4be63952e3c9cb0f46f9e592b3c78714"></a>
FIL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga4be63952e3c9cb0f46f9e592b3c78714">fil</a></td></tr>
<tr class="memdesc:ga4be63952e3c9cb0f46f9e592b3c78714"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to the data file. <br/></td></tr>
<tr class="separator:ga4be63952e3c9cb0f46f9e592b3c78714"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94b465c64e7406994a32b0a3d6162264"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga94b465c64e7406994a32b0a3d6162264"></a>
DWORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga94b465c64e7406994a32b0a3d6162264">fsz</a></td></tr>
<tr class="memdesc:ga94b465c64e7406994a32b0a3d6162264"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the current size of the data file. <br/></td></tr>
<tr class="separator:ga94b465c64e7406994a32b0a3d6162264"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles the main logger functionality of the device, including the configuration of all required peripherals for the logging service. </p>
<p>Logging data into the SD buffer is interrupt controlled so that precise timing may be maintained. Other functionality such as updating the LCD screen and opening, flushing and closing of files is up to an infinite loop such that it can be easily interrupted by higher priority tasks.</p>
<dl class="section author"><dt>Author</dt><dd>Jon Sowman, University of Southampton <a href="#" onclick="location.href='mai'+'lto:'+'j.s'+'ow'+'man'+'@s'+'oto'+'n.'+'ac.'+'uk'; return false;">j.sow<span style="display: none;">.nosp@m.</span>man@<span style="display: none;">.nosp@m.</span>soton<span style="display: none;">.nosp@m.</span>.ac.<span style="display: none;">.nosp@m.</span>uk</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Jon Sowman 2014, All Rights Reserved </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Nov 5 2014 10:07:05 for EV Logger by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
