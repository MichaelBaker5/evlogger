<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>EV Logger: System</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">EV Logger
   </div>
   <div id="projectbrief">A MSP430 based datalogger for an electric vehicle</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">System</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga6e6c13e871b82d881a01d1bc8df69d23"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga6e6c13e871b82d881a01d1bc8df69d23"></a>
typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__System.html#ga6e6c13e871b82d881a01d1bc8df69d23">clock_time_t</a></td></tr>
<tr class="memdesc:ga6e6c13e871b82d881a01d1bc8df69d23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a type to hold a system clock time. <br/></td></tr>
<tr class="separator:ga6e6c13e871b82d881a01d1bc8df69d23"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga78ab77b57cf2e00089f0a3a22508524c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga78ab77b57cf2e00089f0a3a22508524c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__System.html#ga78ab77b57cf2e00089f0a3a22508524c">clock_init</a> (void)</td></tr>
<tr class="memdesc:ga78ab77b57cf2e00089f0a3a22508524c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use timer A0 to set up a system clock ticking at 1ms intervals. <br/></td></tr>
<tr class="separator:ga78ab77b57cf2e00089f0a3a22508524c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02fbef4ca042a3a926a687e81ddf3b61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__System.html#ga02fbef4ca042a3a926a687e81ddf3b61">sys_clock_init</a> (void)</td></tr>
<tr class="memdesc:ga02fbef4ca042a3a926a687e81ddf3b61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the system core clock to provide a stable clock for the CPU.  <a href="#ga02fbef4ca042a3a926a687e81ddf3b61">More...</a><br/></td></tr>
<tr class="separator:ga02fbef4ca042a3a926a687e81ddf3b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5b7160f2e653725ba5e2024c3cb7bff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__System.html#ga6e6c13e871b82d881a01d1bc8df69d23">clock_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__System.html#gae5b7160f2e653725ba5e2024c3cb7bff">clock_time</a> (void)</td></tr>
<tr class="memdesc:gae5b7160f2e653725ba5e2024c3cb7bff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the current system time.  <a href="#gae5b7160f2e653725ba5e2024c3cb7bff">More...</a><br/></td></tr>
<tr class="separator:gae5b7160f2e653725ba5e2024c3cb7bff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab3527620075d7c9b9ed0b023eb47fabb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__System.html#gab3527620075d7c9b9ed0b023eb47fabb">_delay_ms</a> (<a class="el" href="group__System.html#ga6e6c13e871b82d881a01d1bc8df69d23">clock_time_t</a> delay)</td></tr>
<tr class="memdesc:gab3527620075d7c9b9ed0b023eb47fabb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delay for the provided number of milliseconds.  <a href="#gab3527620075d7c9b9ed0b023eb47fabb">More...</a><br/></td></tr>
<tr class="separator:gab3527620075d7c9b9ed0b023eb47fabb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga95ca0893fea824b3da8940f52f5ac1b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__System.html#ga95ca0893fea824b3da8940f52f5ac1b0">interrupt</a> (TIMER0_A0_VECTOR)</td></tr>
<tr class="memdesc:ga95ca0893fea824b3da8940f52f5ac1b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt service routine for the system ticks counter.  <a href="#ga95ca0893fea824b3da8940f52f5ac1b0">More...</a><br/></td></tr>
<tr class="separator:ga95ca0893fea824b3da8940f52f5ac1b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gac2c5ac92059be67724d7a2185eaa467c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac2c5ac92059be67724d7a2185eaa467c"></a>
static volatile <a class="el" href="group__System.html#ga6e6c13e871b82d881a01d1bc8df69d23">clock_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__System.html#gac2c5ac92059be67724d7a2185eaa467c">ticks</a></td></tr>
<tr class="memdesc:gac2c5ac92059be67724d7a2185eaa467c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current clock time. <br/></td></tr>
<tr class="separator:gac2c5ac92059be67724d7a2185eaa467c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gab3527620075d7c9b9ed0b023eb47fabb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _delay_ms </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__System.html#ga6e6c13e871b82d881a01d1bc8df69d23">clock_time_t</a>&#160;</td>
          <td class="paramname"><em>delay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delay for the provided number of milliseconds. </p>
<p>We use the __delay_cycles() function which consists of putting NOPs into the CPU pipeline for the required period. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">delay</td><td>The number of ms to delay. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae5b7160f2e653725ba5e2024c3cb7bff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__System.html#ga6e6c13e871b82d881a01d1bc8df69d23">clock_time_t</a> clock_time </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the current system time. </p>
<dl class="section return"><dt>Returns</dt><dd>The current clock time in milliseconds. </dd></dl>

</div>
</div>
<a class="anchor" id="ga95ca0893fea824b3da8940f52f5ac1b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">interrupt </td>
          <td>(</td>
          <td class="paramtype">TIMER0_A0_VECTOR&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interrupt service routine for the system ticks counter. </p>
<p>Note that the <a class="el" href="group__System.html#ga95ca0893fea824b3da8940f52f5ac1b0" title="Interrupt service routine for the system ticks counter. ">interrupt()</a> macro is from legacymsp430.h. </p>

</div>
</div>
<a class="anchor" id="ga02fbef4ca042a3a926a687e81ddf3b61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sys_clock_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the system core clock to provide a stable clock for the CPU. </p>
<p>Set up the system core clock source as the digitally controlled oscillator (DCO) and have the FLL stabilise the DCO at 25MHz with reference to the external high speed crystal XT2, which is 4MHz on the MSP-EXP430 board. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Nov 5 2014 10:07:05 for EV Logger by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
