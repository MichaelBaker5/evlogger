\hypertarget{system_8h}{\section{/home/jon/projects/evlogger/evlogger/src/system.h \-File \-Reference}
\label{system_8h}\index{/home/jon/projects/evlogger/evlogger/src/system.\-h@{/home/jon/projects/evlogger/evlogger/src/system.\-h}}
}
{\ttfamily \#include $<$stdio.\-h$>$}\*
{\ttfamily \#include $<$msp430.\-h$>$}\*
{\ttfamily \#include $<$msp430f5529.\-h$>$}\*
{\ttfamily \#include $<$legacymsp430.\-h$>$}\*
{\ttfamily \#include \char`\"{}typedefs.\-h\char`\"{}}\*
\subsection*{\-Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{typedefs_8h_a06896e8c53f721507066c079052171f8}{uint32\-\_\-t} \hyperlink{system_8h_a6e6c13e871b82d881a01d1bc8df69d23}{clock\-\_\-time\-\_\-t}
\begin{DoxyCompactList}\small\item\em \-E\-V \-Datalogger \-Project. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{system_8h_a78ab77b57cf2e00089f0a3a22508524c}{clock\-\_\-init} (void)
\begin{DoxyCompactList}\small\item\em \-Use timer \-A0 to set up a system clock ticking at 1ms intervals. \end{DoxyCompactList}\item 
void \hyperlink{system_8h_a02fbef4ca042a3a926a687e81ddf3b61}{sys\-\_\-clock\-\_\-init} (void)
\begin{DoxyCompactList}\small\item\em \-Set up the system core clock source as the digitally controlled oscillator (\-D\-C\-O) and have the \-F\-L\-L stabilise the \-D\-C\-O at 25\-M\-Hz with reference to the external high speed crystal \-X\-T2, which is 4\-M\-Hz on the \-M\-S\-P-\/\-E\-X\-P430 board. \end{DoxyCompactList}\item 
\hyperlink{system_8h_a6e6c13e871b82d881a01d1bc8df69d23}{clock\-\_\-time\-\_\-t} \hyperlink{system_8h_ae5b7160f2e653725ba5e2024c3cb7bff}{clock\-\_\-time} (void)
\begin{DoxyCompactList}\small\item\em \-Return the current system time. \end{DoxyCompactList}\item 
void \hyperlink{system_8h_a60484578223bab4621fb34d9666e1133}{\-\_\-delay\-\_\-ms} (\hyperlink{typedefs_8h_a06896e8c53f721507066c079052171f8}{uint32\-\_\-t} delay)
\begin{DoxyCompactList}\small\item\em \-Delay for the provided number of milliseconds. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{\-Typedef \-Documentation}
\hypertarget{system_8h_a6e6c13e871b82d881a01d1bc8df69d23}{\index{system.\-h@{system.\-h}!clock\-\_\-time\-\_\-t@{clock\-\_\-time\-\_\-t}}
\index{clock\-\_\-time\-\_\-t@{clock\-\_\-time\-\_\-t}!system.h@{system.\-h}}
\subsubsection[{clock\-\_\-time\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf uint32\-\_\-t} {\bf clock\-\_\-time\-\_\-t}}}\label{system_8h_a6e6c13e871b82d881a01d1bc8df69d23}


\-E\-V \-Datalogger \-Project. 

\-Jon \-Sowman 2014 $<$\href{mailto:js39g13@soton.ac.uk}{\tt js39g13@soton.\-ac.\-uk}$>$ \-University of \-Southampton 

\subsection{\-Function \-Documentation}
\hypertarget{system_8h_a60484578223bab4621fb34d9666e1133}{\index{system.\-h@{system.\-h}!\-\_\-delay\-\_\-ms@{\-\_\-delay\-\_\-ms}}
\index{\-\_\-delay\-\_\-ms@{\-\_\-delay\-\_\-ms}!system.h@{system.\-h}}
\subsubsection[{\-\_\-delay\-\_\-ms}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-\_\-delay\-\_\-ms} (
\begin{DoxyParamCaption}
\item[{{\bf clock\-\_\-time\-\_\-t}}]{delay}
\end{DoxyParamCaption}
)}}\label{system_8h_a60484578223bab4621fb34d9666e1133}


\-Delay for the provided number of milliseconds. 


\begin{DoxyParams}{\-Parameters}
{\em delay} & \-The number of ms to delay. \\
\hline
\end{DoxyParams}
\hypertarget{system_8h_a78ab77b57cf2e00089f0a3a22508524c}{\index{system.\-h@{system.\-h}!clock\-\_\-init@{clock\-\_\-init}}
\index{clock\-\_\-init@{clock\-\_\-init}!system.h@{system.\-h}}
\subsubsection[{clock\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf clock\-\_\-init} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{system_8h_a78ab77b57cf2e00089f0a3a22508524c}


\-Use timer \-A0 to set up a system clock ticking at 1ms intervals. 

\hypertarget{system_8h_ae5b7160f2e653725ba5e2024c3cb7bff}{\index{system.\-h@{system.\-h}!clock\-\_\-time@{clock\-\_\-time}}
\index{clock\-\_\-time@{clock\-\_\-time}!system.h@{system.\-h}}
\subsubsection[{clock\-\_\-time}]{\setlength{\rightskip}{0pt plus 5cm}{\bf clock\-\_\-time\-\_\-t} {\bf clock\-\_\-time} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{system_8h_ae5b7160f2e653725ba5e2024c3cb7bff}


\-Return the current system time. 

\hypertarget{system_8h_a02fbef4ca042a3a926a687e81ddf3b61}{\index{system.\-h@{system.\-h}!sys\-\_\-clock\-\_\-init@{sys\-\_\-clock\-\_\-init}}
\index{sys\-\_\-clock\-\_\-init@{sys\-\_\-clock\-\_\-init}!system.h@{system.\-h}}
\subsubsection[{sys\-\_\-clock\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf sys\-\_\-clock\-\_\-init} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{system_8h_a02fbef4ca042a3a926a687e81ddf3b61}


\-Set up the system core clock source as the digitally controlled oscillator (\-D\-C\-O) and have the \-F\-L\-L stabilise the \-D\-C\-O at 25\-M\-Hz with reference to the external high speed crystal \-X\-T2, which is 4\-M\-Hz on the \-M\-S\-P-\/\-E\-X\-P430 board. 

